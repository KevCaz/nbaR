# Netherlands Biodiversity Api
#
# Access to the digitised Natural History collection at the Naturalis Biodiversity Center
#
# OpenAPI spec version: v2
# Contact: support@naturalis.nl
# Generated by: https://github.com/swagger-api/swagger-codegen.git

#' @title Metadata operations
#' @description nbaR.Metadata
#'
#' @field path Stores url path of the request.
#' @field apiClient Handles the client-server communication.
#' @field userAgent Set the user agent of the request.
#'
#' @importFrom R6 R6Class
#'
#' @section Methods:
#' \describe{
#'
#' get_allowed_date_formats Get allowed values for dates in queries
#'
#'
#' get_controlled_list_phase_or_stage Get allowed values for the field &#39;PhaseOrStage&#39; in a specimen document
#'
#'
#' get_controlled_list_sex Get allowed values for the field &#39;Sex&#39; in a specimen document
#'
#'
#' get_controlled_list_specimen_type_status Get allowed values for the field &#39;SpecimenTypeStatus&#39; in a specimen document
#'
#'
#' get_controlled_list_taxonomic_status Get allowed values for the field &#39;TaxonomicStatus&#39; in specimen and taxon documents
#'
#'
#' get_controlled_lists Get the names of fields for which a controlled vocabulary exists
#'
#'
#' get_rest_services List all available REST services and their parameters
#'
#'
#' get_setting Get the value of an NBA setting
#'
#'
#' get_settings List all publicly available configuration settings for the NBA
#'
#'
#' get_source_systems Get the data sources from which the data was retrieved
#'
#' }
#'
#' @export
MetadataClient <- R6::R6Class(
  'MetadataClient',
  public = list(
    userAgent = "Swagger-Codegen/0.0.0/r",
    apiClient = NULL,
    initialize = function(apiClient){
      if (!missing(apiClient)) {
        self$apiClient <- apiClient
      }
      else {
        self$apiClient <- ApiClient$new()
      }
    },

      # '@name get_allowed_date_formats
      # '@title Get allowed values for dates in queries
      # '@description Queries with other formatted dates will result in a query error
      # '@return \code{ character }
      get_allowed_date_formats = function(...){
      args <- list(...)
      queryParams <- list()
      headerParams <- character()

      urlPath <- "/metadata/getAllowedDateFormats"
      resp <- self$apiClient$callApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)
      
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        returnObject <- character$new()
        result <- returnObject$fromJSONString(httr::content(resp, "text", encoding = "UTF-8"))
        Response$new(returnObject, resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        Response$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        Response$new("API server error", resp)
      }

    },
      # '@name get_controlled_list_phase_or_stage
      # '@title Get allowed values for the field &#39;PhaseOrStage&#39; in a specimen document
      # '@description 
      # '@return \code{ character }
      get_controlled_list_phase_or_stage = function(...){
      args <- list(...)
      queryParams <- list()
      headerParams <- character()

      urlPath <- "/metadata/getControlledList/PhaseOrStage"
      resp <- self$apiClient$callApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)
      
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        returnObject <- character$new()
        result <- returnObject$fromJSONString(httr::content(resp, "text", encoding = "UTF-8"))
        Response$new(returnObject, resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        Response$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        Response$new("API server error", resp)
      }

    },
      # '@name get_controlled_list_sex
      # '@title Get allowed values for the field &#39;Sex&#39; in a specimen document
      # '@description 
      # '@return \code{ character }
      get_controlled_list_sex = function(...){
      args <- list(...)
      queryParams <- list()
      headerParams <- character()

      urlPath <- "/metadata/getControlledList/Sex"
      resp <- self$apiClient$callApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)
      
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        returnObject <- character$new()
        result <- returnObject$fromJSONString(httr::content(resp, "text", encoding = "UTF-8"))
        Response$new(returnObject, resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        Response$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        Response$new("API server error", resp)
      }

    },
      # '@name get_controlled_list_specimen_type_status
      # '@title Get allowed values for the field &#39;SpecimenTypeStatus&#39; in a specimen document
      # '@description 
      # '@return \code{ character }
      get_controlled_list_specimen_type_status = function(...){
      args <- list(...)
      queryParams <- list()
      headerParams <- character()

      urlPath <- "/metadata/getControlledList/SpecimenTypeStatus"
      resp <- self$apiClient$callApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)
      
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        returnObject <- character$new()
        result <- returnObject$fromJSONString(httr::content(resp, "text", encoding = "UTF-8"))
        Response$new(returnObject, resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        Response$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        Response$new("API server error", resp)
      }

    },
      # '@name get_controlled_list_taxonomic_status
      # '@title Get allowed values for the field &#39;TaxonomicStatus&#39; in specimen and taxon documents
      # '@description 
      # '@return \code{ character }
      get_controlled_list_taxonomic_status = function(...){
      args <- list(...)
      queryParams <- list()
      headerParams <- character()

      urlPath <- "/metadata/getControlledList/TaxonomicStatus"
      resp <- self$apiClient$callApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)
      
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        returnObject <- character$new()
        result <- returnObject$fromJSONString(httr::content(resp, "text", encoding = "UTF-8"))
        Response$new(returnObject, resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        Response$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        Response$new("API server error", resp)
      }

    },
      # '@name get_controlled_lists
      # '@title Get the names of fields for which a controlled vocabulary exists
      # '@description Possible values for fields with controlled vocabularies can be queried with metadata/getControlledList/{field}
      # '@return \code{ character }
      get_controlled_lists = function(...){
      args <- list(...)
      queryParams <- list()
      headerParams <- character()

      urlPath <- "/metadata/getControlledLists"
      resp <- self$apiClient$callApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)
      
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        returnObject <- character$new()
        result <- returnObject$fromJSONString(httr::content(resp, "text", encoding = "UTF-8"))
        Response$new(returnObject, resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        Response$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        Response$new("API server error", resp)
      }

    },
      # '@name get_rest_services
      # '@title List all available REST services and their parameters
      # '@description lists end point name, http method, response type, and URL
      # '@return \code{ RestService }
      get_rest_services = function(...){
      args <- list(...)
      queryParams <- list()
      headerParams <- character()

      urlPath <- "/metadata/getRestServices"
      resp <- self$apiClient$callApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)
      
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        returnObject <- RestService$new()
        result <- returnObject$fromJSONString(httr::content(resp, "text", encoding = "UTF-8"))
        Response$new(returnObject, resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        Response$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        Response$new("API server error", resp)
      }

    },
      # '@name get_setting
      # '@title Get the value of an NBA setting
      # '@description All settings can be queried with /metadata/getSettings
      # '@return \code{ Specimen }
      get_setting = function(name, ...){
      args <- list(...)
      queryParams <- list()
      headerParams <- character()

      urlPath <- "/metadata/getSetting/{name}"
      if (!missing(`name`)) {
        urlPath <- gsub(paste0("\\{", "name", "\\}"), `name`, urlPath)
      }

      resp <- self$apiClient$callApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)
      
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        returnObject <- Specimen$new()
        result <- returnObject$fromJSONString(httr::content(resp, "text", encoding = "UTF-8"))
        Response$new(returnObject, resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        Response$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        Response$new("API server error", resp)
      }

    },
      # '@name get_settings
      # '@title List all publicly available configuration settings for the NBA
      # '@description The value of a specific setting can be queried with metadata/getSetting/{name}
      # '@return \code{ Specimen }
      get_settings = function(...){
      args <- list(...)
      queryParams <- list()
      headerParams <- character()

      urlPath <- "/metadata/getSettings"
      resp <- self$apiClient$callApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)
      
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        returnObject <- Specimen$new()
        result <- returnObject$fromJSONString(httr::content(resp, "text", encoding = "UTF-8"))
        Response$new(returnObject, resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        Response$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        Response$new("API server error", resp)
      }

    },
      # '@name get_source_systems
      # '@title Get the data sources from which the data was retrieved
      # '@description Returns code and name of all source systems
      # '@return \code{ SourceSystem }
      get_source_systems = function(...){
      args <- list(...)
      queryParams <- list()
      headerParams <- character()

      urlPath <- "/metadata/getSourceSystems"
      resp <- self$apiClient$callApi(url = paste0(self$apiClient$basePath, urlPath),
                                 method = "GET",
                                 queryParams = queryParams,
                                 headerParams = headerParams,
                                 body = body,
                                 ...)
      
      if (httr::status_code(resp) >= 200 && httr::status_code(resp) <= 299) {
        returnObject <- SourceSystem$new()
        result <- returnObject$fromJSONString(httr::content(resp, "text", encoding = "UTF-8"))
        Response$new(returnObject, resp)
      } else if (httr::status_code(resp) >= 400 && httr::status_code(resp) <= 499) {
        Response$new("API client error", resp)
      } else if (httr::status_code(resp) >= 500 && httr::status_code(resp) <= 599) {
        Response$new("API server error", resp)
      }

    }
  )
)

